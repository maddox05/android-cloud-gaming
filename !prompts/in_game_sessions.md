id like to track how much time people spend in the games.
this will be great data to track and maybe down the line ill have it so free users can only spend X mins a day just for context

part1 session tracking:
so we will track sessions

in_game_sessions

id | user_id | packageName | maxVideoSize | started_at | ended_at | duration (seconds generated by sql) | created_at | ended_reason text

- none of these can be null

these changes will mostly be in signal server

we will create a new folder db which will have 3 files, supabase.ts auth and database. supabase will just hold init for supabase while auth will have all of the auth stuff and database will be where our session storing and recieving will be done.

database will have 2 functions log_session and getUserTimeSpentToday

log session will run at the end of a session or more specifically when client calls disconnect (make sure the client was actually in a game tho lol) the client has all information you will need to fill out the row

--- new thing

I want the frontend to be able to get and display in the user settings page (next to video quality and payment settings) how much time the user has left. so the rls policies allow for this (users can get thier own data)

so create the userget time spent today into a shared/functions.ts file where both can use it, where you now need to pass in a supabase client as well. MAKE SURE U reuse user get time spent func

then the frontend each time the sidebar is opened will query that (use a supense and a new component with the use effect) and show it to the user sayign they have X/FREE_USER_MAX_TIME_MS (both converted to mins and rounded up)
